{% extends 'base.html' %}
{% block content %}
<div class="bg-gray-50 min-h-screen flex flex-col">
    <div class="px-6 py-4 bg-white shadow-sm flex items-center mb-4 sticky top-0 z-10">
        <a href="{{ url_for('buyer_home') }}" class="mr-4"><i class="fas fa-arrow-left"></i></a>
        <h1 class="font-bold text-lg">Keranjang Saya</h1>
    </div>

    <div class="px-6 flex-1 pb-32">
        {% if cart %}
            {% for item in cart %}
            <div class="bg-white p-4 rounded-xl shadow-sm mb-4 flex gap-4">
                <img src="{{ item.image }}" class="w-20 h-20 object-cover rounded-lg bg-gray-100">
                <div class="flex-1 flex flex-col justify-between">
                    <div>
                        <h3 class="font-bold text-dark">{{ item.name }}</h3>
                        <p class="text-xs text-gray-500">Qty: {{ item.qty }}</p>
                    </div>
                    <p class="text-primary font-bold">Rp {{ "{:,}".format(item.price * item.qty).replace(',', '.') }}</p>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <div class="flex flex-col items-center justify-center h-64 text-gray-400">
                <i class="fas fa-shopping-basket text-4xl mb-2"></i>
                <p>Keranjang kosong</p>
            </div>
        {% endif %}
    </div>

    <div class="fixed bottom-0 w-full max-w-[480px] bg-white p-6 rounded-t-3xl shadow-[0_-5px_20px_rgba(0,0,0,0.05)]">
        <div class="flex justify-between items-center mb-4">
            <span class="text-gray-500">Total Pembayaran</span>
            <span class="text-xl font-bold text-dark">Rp {{ "{:,}".format(total).replace(',', '.') }}</span>
        </div>
        <form action="{{ url_for('checkout') }}" method="POST">
            <button type="submit" class="w-full bg-primary text-dark font-bold py-4 mb-40 rounded-xl shadow-lg shadow-lime-500/30">
                Pesan Sekarang
            </button>
        </form>
    </div>
</div>
{% endblock %}